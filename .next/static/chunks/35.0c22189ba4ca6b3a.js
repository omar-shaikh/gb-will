"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{5035:(e,r,a)=>{a.r(r),a.d(r,{default:()=>o});var t=a(7437),s=a(2265);let l=(0,s.forwardRef)((e,r)=>{let a=async e=>{let r="https://l2x3x5e610.execute-api.us-west-1.amazonaws.com/dev/user/".concat(e.email);try{let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)console.log("Data saved successfully!");else{let e=await a.json();console.error("Error saving data:",e.message)}}catch(e){console.error("Error occurred:",e.message)}};return(0,s.useImperativeHandle)(r,()=>({saveData:a})),null});function o(e){let{onNext:r}=e,a=(0,s.useRef)(),o=["Are one or more of your parents living?","Are you married and is your spouse living?","Do you have any children?"],[n,i]=(0,s.useState)(""),[d,c]=(0,s.useState)(0),[u,g]=(0,s.useState)({}),[m,h]=(0,s.useState)([]),[p,x]=(0,s.useState)(""),[b,y]=(0,s.useState)("");(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("userDetails");if(e){let r=JSON.parse(e);r.email?y(r.email):console.error("Email not found in userDetails")}}catch(e){console.error("Error parsing userDetails from local storage:",e)}})()},[]),console.log(b);let f=o[d],k=e=>{i(e),"Yes"===e?h([{firstName:"",lastName:"",age:"",gender:"",relation:""}]):(h([]),N())},v=(e,r,a)=>{let t=[...m];if(t[e]={...t[e],[r]:a},"gender"===r){let r="";f===o[0]?r="Male"===a?"Father":"Mother":f===o[1]?r="Spouse":f===o[2]&&(r="Male"===a?"Son":"Daughter"),t[e]={...t[e],relation:r}}h(t)},w=e=>{h(m.filter((r,a)=>a!==e))},N=async()=>{console.log("handleNext Func Called!");let e="Yes"===n?m:n,t={...u,[f]:[...u[f]||[],...Array.isArray(e)?e:[]]};if(g(t),d<o.length-1)c(d+1),i(""),h([]);else{let e=e=>e.map(e=>{let{firstName:r,lastName:a,age:t}=e;return{firstName:r,lastName:a,age:t}}),s={"Father(s)":e(t["Are one or more of your parents living?"]||[]),"Mother(s)":e(t["Are one or more of your parents living?"]||[]),"Spouse(s)":e(t["Are you married and is your spouse living?"]||[]),"Son(s)":e(t["Do you have any children?"]||[]),"Daughter(s)":e(t["Do you have any children?"]||[]),email:b};a.current.saveData(s),r(s)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Direct Family"}),(0,t.jsxs)("form",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:0===m.length?f:"Are one or more of your parents living?"===f?"Parent Details":"Are you married and is your spouse living?"===f?"Spouse Details":"Do you have any children?"===f?"Child Details":"Details"}),0===m.length&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:[(0,t.jsxs)("label",{className:"cursor-pointer h-20 relative flex items-center gap-4 rounded-md bg-neutral p-2 hover:scale-105 transition-transform text-neutral-600 dark:text-neutral-300 dark:bg-blue-900 border border-neutral-300 dark:border-neutral-700 peer",children:[(0,t.jsx)("input",{type:"radio",id:"yes","aria-describedby":"windowsDescription",className:"peer h-12 w-12 ml-4 accent-blue-600",name:"answer",value:"Yes",checked:"Yes"===n,onChange:()=>k("Yes")}),(0,t.jsx)("span",{className:"text-2xl text-black dark:text-white ml-4",children:"Yes"})]}),(0,t.jsxs)("label",{className:"cursor-pointer h-20 relative flex items-center gap-4 rounded-md bg-neutral p-2 hover:scale-105 transition-transform text-neutral-600 dark:text-neutral-300 dark:bg-blue-900 border border-neutral-300 dark:border-neutral-700 peer",children:[(0,t.jsx)("input",{type:"radio",id:"no","aria-describedby":"windowsDescription",className:"peer h-12 w-12 ml-4 accent-blue-600",name:"answer",value:"No",checked:"No"===n,onChange:()=>k("No")}),(0,t.jsx)("span",{className:"text-2xl text-black dark:text-white ml-4",children:"No"})]})]}),m.map((e,r)=>(0,t.jsxs)("div",{className:"grid gap-4 mb-4 sm:grid-cols-2 sm:gap-6 sm:mb-5 fade-in",children:[(0,t.jsxs)("h3",{className:"text-lg sm:col-span-2 mb-2 mt-4",children:["Are one or more of your parents living?"===f?"Parent ".concat(r+1):"Are you married and is your spouse living?"===f?"Spouse ".concat(r+1):"Do you have any children?"===f?"Child ".concat(r+1):"Details ".concat(r+1),(0,t.jsx)("div",{className:"border-b-2 border-gray-300 mt-2 w-full"})]}),(0,t.jsx)("input",{type:"text",placeholder:"First Name",value:e.firstName||"",onChange:e=>v(r,"firstName",e.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",required:!0}),(0,t.jsx)("input",{type:"text",placeholder:"Last Name",value:e.lastName||"",onChange:e=>v(r,"lastName",e.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",required:!0}),(0,t.jsx)("input",{type:"number",placeholder:"Age",value:e.age||"",onChange:e=>v(r,"age",e.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",required:!0}),(0,t.jsxs)("select",{value:e.gender||"",onChange:e=>v(r,"gender",e.target.value),className:"block py-2.5 px-0 w-full text-sm text-gray-500 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Select Gender"}),(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>w(r),className:"mt-2 w-[40%] text-red-600 inline-flex justify-center items-center hover:text-white border border-red-600 hover:bg-red-600 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"ml-2",children:"Delete"})]})]},r)),(0,t.jsxs)("div",{className:"flex flex-col space-y-20 mt-20",children:[m.length>0&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)("button",{type:"button",onClick:()=>{h([...m,{firstName:"",lastName:"",age:"",gender:"",relation:""}])},className:"inline-flex justify-center items-center py-3 px-8 text-base font-medium text-center text-white rounded-lg bg-dark-purple hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900",children:[(0,t.jsx)("svg",{className:"w-6 h-6 dark:text-white mr-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),0===d&&"Add Parent",1===d&&"Add Spouse",2===d&&"Add Child"]})}),(0,t.jsxs)("div",{className:"flex justify-between mt-10 ",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{d>0&&(c(e=>e-1),i(""),h([]))},disabled:0===d,className:"inline-flex justify-center items-center py-3 px-8 text-base font-medium text-center rounded-lg ".concat(0===d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-dark-purple text-white hover:bg-blue-800"," focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900"),children:"Back"}),(0,t.jsxs)("button",{type:"button",onClick:N,className:"inline-flex justify-center items-center py-3 px-8 text-base font-medium text-center text-white rounded-lg bg-dark-purple hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900",children:["Next",(0,t.jsx)("svg",{className:"w-3.5 h-3.5 ms-2 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,t.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]})]}),(0,t.jsx)(l,{ref:a})]})}}}]);